<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>–û–±–º–µ–Ω –≤–∞–ª—é—Ç</title>
  <link rel="stylesheet" href="/static/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
  <div id="mainPage" class="container">
    <h1 class="title">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</h1>
    
    <div class="input-section">
      <div class="input-label">–í—ã –æ—Ç–¥–∞–µ—Ç–µ</div>
      <div class="input-field">
        <input type="text" id="fromAmount" placeholder="0" pattern="[0-9]*" inputmode="decimal">
        <div class="currency-display">
          <img src="https://flagcdn.com/w40/ru.png" class="currency-flag" alt="RUB">
          RUB
        </div>
      </div>
    </div>

    <div class="swap-btn">‚Üë‚Üì</div>

    <div class="input-section">
      <div class="input-label">–í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ</div>
      <div class="input-field">
        <input type="text" id="toAmount" placeholder="0" readonly>
        <div class="currency-display">
          <img src="https://flagcdn.com/w40/cz.png" class="currency-flag" alt="CZK">
          CZK
        </div>
      </div>
    </div>

    <p class="rate-info">–ö—É—Ä—Å —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º –Ω–∞ –æ–¥–∏–Ω —á–∞—Å</p>

    <div class="divider"></div>

    <div class="currency-pair">
      <span class="currency-from">RUB</span>
      <span class="currency-to">CZK</span>
    </div>

    <div class="divider"></div>

    <div class="rates-section">
      <div class="rate-row">
        <div class="rate-currency">CZK</div>
        <div class="rate-condition">< 20 000 CZK</div>
        <div class="rate-value">-</div>
        <div class="rate-value">3.79</div>
      </div>

      <div class="rate-row">
        <div class="rate-currency">CZK</div>
        <div class="rate-condition">> 20 000 CZK</div>
        <div class="rate-value">-</div>
        <div class="rate-value">3.75</div>
      </div>

      <div class="rate-row">
        <div class="rate-currency">
          <img src="/static/images/usdt.png" class="usdt-icon" alt="USDT">
          USDT/CZK
        </div>
        <div class="rate-condition">> 1 000 USDT</div>
        <div class="rate-value">21.45</div>
        <div class="rate-value">21.95</div>
      </div>
    </div>

    <div class="divider"></div>

    <button class="action-btn" id="actionBtn">–ü–æ–º–µ–Ω—è—Ç—å</button>
  </div>

  <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞ -->
  <div id="methodPage" class="container" style="display:none;">
    <h1 class="title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è</h1>
    
    <div class="method-option">
      <div class="method-icon">üí≥</div>
      <div class="method-info">
        <div class="method-title">–ù–∞ —Å—á—ë—Ç</div>
        <div class="method-desc">–ü–µ—Ä–µ–≤–æ–¥ CZK –Ω–∞ –≤–∞—à —Å—á–µ—Ç</div>
      </div>
    </div>
    
    <div class="method-option">
      <div class="method-icon">üí∞</div>
      <div class="method-info">
        <div class="method-title">–ù–∞–ª–∏—á–Ω—ã–µ</div>
        <div class="method-desc">–ü–æ–ª—É—á–∏—Ç–µ –Ω–∞–ª–∏—á–Ω—ã–µ –≤ –ü—Ä–∞–≥–µ</div>
      </div>
    </div>
    
    <button class="back-btn" id="backBtn">–ù–∞–∑–∞–¥</button>
  </div>

  <script>
    Telegram.WebApp.ready();
    Telegram.WebApp.expand();

    const fromAmount = document.getElementById('fromAmount');
    const toAmount = document.getElementById('toAmount');
    const actionBtn = document.getElementById('actionBtn');
    const backBtn = document.getElementById('backBtn');
    const currentRate = 3.75;

    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞
    fromAmount.addEventListener('input', function() {
      this.value = this.value.replace(/[^0-9]/g, '');
      const value = parseFloat(this.value) || 0;
      toAmount.value = (value / currentRate).toFixed(2);
    });

    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–µ—Ç–æ–¥–æ–≤
    actionBtn.addEventListener('click', function() {
      document.getElementById('mainPage').style.display = 'none';
      document.getElementById('methodPage').style.display = 'block';
      Telegram.WebApp.BackButton.show();
    });

    // –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é
    backBtn.addEventListener('click', function() {
      document.getElementById('methodPage').style.display = 'none';
      document.getElementById('mainPage').style.display = 'block';
      Telegram.WebApp.BackButton.hide();
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –≤ Telegram
    Telegram.WebApp.onEvent('backButtonClicked', function() {
      document.getElementById('methodPage').style.display = 'none';
      document.getElementById('mainPage').style.display = 'block';
      Telegram.WebApp.BackButton.hide();
    });
  </script>
</body>
</html>
